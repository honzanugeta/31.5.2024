<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/images/potraviny.ico">
    <link href="./output.css" rel="stylesheet">
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <title>Eshop Potravin</title>
</head>
<body class="bg-gradient-to-r from-violet-600 to-violet-600 h-full w-full min-h-screen ">
    <header class="bg-gradient-to-b from-fuchsia-900 to-violet-600 py-2 px-4 flex justify-between items-center">
        <img src="/images/Mataw.jpg" alt="Eshop Potravin Logo" class="h-8 w-auto border-black border-solid border-2">
        <nav class="flex space-x-4">
            <a href="#" class="text-white hover:text-green-100 px-3 py-2 font-medium hover:font-bold">Maso</a>
            <a href="#" class="text-white hover:text-green-100 px-3 py-2 font-medium hover:font-bold">Ovoce</a>
            <a href="#" class="text-white hover:text-green-100 px-3 py-2 font-medium hover:font-bold">Zelenina</a>
            <a href="#" class="text-white hover:text-green-100 px-3 py-2 font-medium hover:font-bold">Ostatní</a>
        </nav>
        <div class="grid grid-cols-2 gap-2">
            <div x-data="{ open: false }" class="relative">
                <button 
                    @click="open = !open"
                    class="inline-flex items-center px-4 py-2 bg-violet-800 border border-violet-100 rounded-md font-medium text-white hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    <img src="/Images/pngwing.com (1).png" alt="Menu Button" class="mr-2 h-6 w-6">Košík</button>
                <ul 
                    x-show="open" 
                    @click.away="open = false"
                    class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-10 dropdown-menu">
                </ul>
            </div>
            <input type="text" placeholder="Hledat..." class="border border-gray-300 rounded-md px-2 py-1 w-48">
          </div>
    </header>
    <main class="container mx-auto px-4 py-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-white shadow-md rounded-md p-4 flex flex-col">
                <img src="/images/IMG_7763.png" alt="Product 1" class="w-full h-40 object-cover mb-2">
                <h3  id="produkt-nazev" class="text-lg font-semibold">Brambory</h3>
                <p class="text-gray-600 text-sm">Brambory jsou jednou z nejoblíbenějších zelenin po celém světě. Jsou bohaté na škrob a vlákninu a mohou být připraveny mnoha způsoby - vařené, pečené, smažené nebo dokonce jako součást různých pokrmů.</p>
                <div class="flex justify-between items-center mt-auto">
                    <span class="text-violet-500 font-bold">Cena 25Kč/Kg</span>
                    <button 
                    onclick="addToBasket(document.getElementById('produkt-nazev').textContent, 25)"
                    class="bg-purple-500 hover:bg-purple-700 text-white font-semibold py-1 px-2 rounded-md">Přidat do košíku</button>                
                </div>
            </div>
            </div>
    </main>
    <script>
        function addToBasket(productName, productPrice) {
            const dropdownMenu = document.querySelector('.dropdown-menu');
            const existingItem = dropdownMenu.querySelector(`[data-product="${productName}"]`);
            
            if (existingItem) {
                const quantity = parseInt(existingItem.getAttribute('data-quantity')) + 1;
                existingItem.textContent = `${productName} (${quantity}) - Cena: ${quantity * productPrice}Kč`; 
                existingItem.setAttribute('data-quantity', quantity);
            } else {
                const newItem = document.createElement('li');
                newItem.innerHTML = `<a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-200" data-product="${productName}" data-quantity="1">${productName} (1) - Cena: ${productPrice}Kč</a>`; 
                dropdownMenu.appendChild(newItem);
            }
            const alertMessage = document.createElement('div');
            alertMessage.textContent = `${productName} byl/i přidán do košíku`;
            alertMessage.classList.add('fixed', 'bottom-5', 'right-5', 'bg-purple-500', 'text-white', 'px-4', 'py-2', 'rounded', 'shadow-lg', 'z-50');
            document.body.appendChild(alertMessage);
            setTimeout(() => {
                document.body.removeChild(alertMessage);
            }, 3000);
        }
    </script>
    
</body>
</html>
